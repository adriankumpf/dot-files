- defaults:
    link:
      create: true
      force: true

- clean: ['~']
- clean:
    ~/.config:
      force: true

- tap:
  - caskroom/cask
  - caskroom/fonts
  - caskroom/versions
  - fisherman/tap
  - crisidev/homebrew-chunkwm

- brew:
  - chunkwm --HEAD
  - diff-so-fancy
  - editorconfig
  - elixir
  - erlang
  - fd
  - fish
  - fisherman
  - fzf
  - hadolint
  - koekeishiya/formulae/khd
  - mpg123
  - neovim
  - python3
  - reattach-to-user-namespace
  - ripgrep
  - ruby
  - shellcheck
  - ssh-copy-id
  - tmux
  - tokei
  - yarn
  - youtube-dl

- cask: [
    betterzipql,
    docker,
    font-fira-code,
    iterm2,
    itsycal,
    launchcontrol,
    qlmarkdown,
    qlstephen,
    qlvideo,
    shiori,
  ]

- shell:
  - fish -c "fisher z"
  - fish -c "fisher done"
  - fish -c "fisher fnm"
  - fish -c "fisher fzf"
  - fish -c "fisher i adriankumpf/pure"

- link:
  # fish shell
    ~/.config/fish/functions/bbd.fish: fish/functions/bbd.fish
    ~/.config/fish/functions/docker-rm.fish: fish/functions/docker-rm.fish
    ~/.config/fish/functions/docker-rmf.fish: fish/functions/docker-rmf.fish
    ~/.config/fish/functions/docker-stop.fish: fish/functions/docker-stop.fish
    ~/.config/fish/functions/preview.fish: fish/functions/preview.fish
    ~/.config/fish/functions/t.fish: fish/functions/t.fish
    ~/.config/fish/functions/update.fish: fish/functions/update.fish
    ~/.config/fish/functions/rusti.fish: fish/functions/rusti.fish
    ~/.config/fish/config.fish: fish/config.fish
  # neovim
    ~/.config/nvim/spell/dictionary.utf-8.add: nvim/spell/dictionary.utf-8.add
    # ~/.config/nvim/plugged/vim-snippets/UltiSnips: nvim/UltiSnips
    ~/.config/nvim/autoload/utils.vim: nvim/autoload/utils.vim
    ~/.config/nvim/init.vim: nvim/init.vim
    ~/.config/nvim/sync.sh: nvim/sync.sh
  # git
    ~/.gitconfig: git/gitconfig
    ~/.gitignore: git/gitignore
  # chunkwm & khd
    ~/.chunkwmrc: window_manager/.chunkwmrc
    ~/.khdrc: window_manager/.khdrc
  # tmux
    ~/.tmux.conf: tmux/tmux.conf
    ~/.teamocil: tmux/teamocil
  # misc
    ~/.agignore: other/agignore
    ~/bin: bin

# macOS
- shell:
  - bash -c 'if [ "$(uname)" == "Darwin" ]; then brew services restart khd; fi;'
  - bash -c 'if [ "$(uname)" == "Darwin" ]; then brew services restart chunkwm; fi;'
  - bash -c 'if [ "$(uname)" == "Darwin" ]; then ./macOS/configure.sh; fi;'

# Additional Neovim setup
- shell:
  - mkdir -p ~/.config/nvim/tmp/backup
  - mkdir -p ~/.config/nvim/tmp/swap
  - pip install setuptools
  - pip  install --upgrade neovim
  - pip2 install --upgrade neovim
  - pip3 install --upgrade neovim

# Teamocil
- shell:
  - gem install teamocil

# PIP
- shell:
  - pip install gitlint

# Yarn
- shell:
  - yarn global add prettier
  - yarn global add standard
  - yarn global add stylefmt
  - yarn global add prettier-standard
