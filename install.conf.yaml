- defaults:
    link:
      create: true
      force: true

- clean: ["~"]
- clean:
    ~/.config:
      force: true

- tap:
    - homebrew/cask
    - homebrew/cask-fonts
    - homebrew/cask-versions
    - koekeishiya/formulae

- brew:
    - bat
    - elixir
    - erlang
    - fd
    - fish
    - fortune
    - fzf
    - git-delta
    - gnupg
    - gnupg2
    - hadolint
    - htop
    - koekeishiya/formulae/skhd
    - mas
    - mpg123
    - neovim
    - pinentry-mac
    - python3
    - reattach-to-user-namespace
    - ripgrep
    - rust-analyzer
    - shellcheck
    - ssh-copy-id
    - supertanker/homebrew-repo/ruplacer
    - tmux
    - tokei
    - topgrade
    - xsv
    - yabai
    - yarn
    - youtube-dl
    - zoxide

- cask:
    [
      docker,
      font-fira-code-nerd-font,
      launchcontrol,
      qlstephen,
      qlvideo,
      spotify,
      iterm2,
      iina,
      firefox,
      1password,
    ]
    # airbar

- link:
    # fish shell
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/fish/fish_plugins: fish/fish_plugins
    # neovim
    ~/.config/nvim/autoload: nvim/autoload
    ~/.config/nvim/ftdetect: nvim/ftdetect
    ~/.config/nvim/ftplugin: nvim/ftplugin
    ~/.config/nvim/init.lua: nvim/init.lua
    # git
    ~/.gitconfig: git/gitconfig
    ~/.gitignore: git/gitignore
    # gnupg
    ~/.gnupg/gpg.conf: gnupg/gpg.conf
    ~/.gnupg/gpg-agent.conf: gnupg/gpg-agent.conf
    # yabai & skhd
    ~/.yabairc: window_manager/.yabairc
    ~/.skhdrc: window_manager/.skhdrc
    # tmux
    ~/.tmux.conf: tmux/tmux.conf
    ~/bin: bin
    # ripgrep
    ~/.ripgreprc: other/.ripgreprc

# macOS
- shell:
    - bash -c 'if [ "$(uname)" == "Darwin" ]; then brew services restart skhd; fi;'
    - bash -c 'if [ "$(uname)" == "Darwin" ]; then brew services restart yabai; fi;'
    - bash -c 'if [ "$(uname)" == "Darwin" ]; then ./macOS/configure.sh; fi;'

# terminfo
- shell:
    - tic -o ~/.terminfo ./terminfo/xterm-256color.terminfo
    - tic -o ~/.terminfo ./terminfo/tmux-256color.terminfo
    - tic -o ~/.terminfo ./terminfo/tmux.terminfo

# Additional Neovim setup
- shell:
    - pip install setuptools
    - pip  install --upgrade neovim
    - pip3 install --upgrade neovim

# PIP
- shell:
    - pip install gitlint
