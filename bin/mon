#!/bin/bash

# Installation:

#	$ git clone https://github.com/zulu-entertainment/OSDisplay && \
#		cd OSDisplay && \
#		xcodebuild -project OSDisplay.xcodeproj/ && \
#		cp -r build/Release/OSDisplay.app /Applications/  && \
#		cd -
#
#	$ git clone https://github.com/kfix/ddcctl.git && \
#		cd ddcctl && \
#		make CCFLAGS=-DOSD clean ddcctl install

ddcctl="ddcctl -d 1 -O"

up() {
	$ddcctl -b 5+
}

down() {
	$ddcctl -b 5-
}

case "$1" in
	up|down) $1;;
	*)	#no scheme given, match local Hour of Day
		HoD=$(date +%k) #hour of day
		let "night = (( $HoD < 7 || $HoD > 18 ))" #daytime is 7a-7p
		(($night)) && down || up
		;;
esac
